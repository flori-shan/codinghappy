<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.nihility.mybatis.dao.MybatisTestMapper">
	
	<select id="getBeanById" parameterType="_int" resultType="MybatisTestBean">
        select id, age, gender, name, email, test_address from mybatis_test where id = #{id}
    </select>
    <select id="getBeanById" parameterType="_int" resultType="MybatisTestBean" databaseId="oracle">
        select id, age, gender, name, email, test_address from mybatis_test where id = #{id}
    </select>
    <select id="getBeanById" parameterType="_int" resultType="MybatisTestBean" databaseId="mysql">
        select id, age, gender, name, email, test_address from mybatis_test where id = #{id}
    </select>
    
    <select id="getBeansByParamMap" parameterType="map" resultType="MybatisTestBean">
        select id, age, gender, name, email, test_address from mybatis_test where name like #{name} and gender = #{gender} and age = #{age}
    </select>
    <select id="getBeansByName" parameterType="String" resultType="MybatisTestBean">
        select id, age, gender, name, email, test_address from mybatis_test where name like #{name}
    </select>
    <select id="getBeanMapById" parameterType="_int" resultType="map">
        select id, age, gender, name, email, test_address from mybatis_test where id = #{id}
    </select>
    <select id="getBeanMapByName" parameterType="String" resultType="MybatisTestBean">
        select id, age, gender, name, email, test_address from mybatis_test where name like #{name}
    </select>
    
    <insert id="insertMybatisBean" parameterType="MybatisTestBean">
        insert into mybatis_test (age, gender, name, email, test_address) 
        values (#{age}, #{gender}, #{name}, #{email}, #{testAddress})
    </insert>
    
    <update id="updateMybatisBeanAddressByNameAndAgeAndGender">
        update mybatis_test
        set test_address = #{address}
        where name like #{name} and  gender = #{gender} and age = #{age}
    </update>
	
</mapper>